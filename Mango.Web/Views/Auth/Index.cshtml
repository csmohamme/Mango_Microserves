@{
    ViewData["Title"] = "Welcome to Mango";
    Layout = "_AuthLayout";
}
<link rel="stylesheet" href="~/css/Auth/Index.css" />
<div class="auth-container">
    <!-- Background Elements -->
    <div class="auth-background">
        <div class="bg-circle bg-circle-1"></div>
        <div class="bg-circle bg-circle-2"></div>
        <div class="bg-circle bg-circle-3"></div>
    </div>

    <div class="container">
        <div class="row justify-content-center align-items-center min-vh-100">
            <div class="col-lg-10 col-xl-9">
                <div class="auth-card">
                    <div class="row g-0">
                        <!-- Left Side - Welcome Section -->
                        <div class="col-md-6 d-none d-md-block">
                            <div class="auth-welcome-section">
                                <div class="auth-brand mb-5">
                                    <i class="bi bi-mango auth-brand-icon"></i>
                                    <h1 class="auth-brand-text">Mango</h1>
                                </div>

                                <div class="auth-features">
                                    <h2 class="mb-4">Welcome Back!</h2>
                                    <p class="mb-4">Sign in to access your account and continue your journey with us.</p>

                                    <div class="feature-list">
                                        <div class="feature-item">
                                            <div class="feature-icon">
                                                <i class="bi bi-shield-check"></i>
                                            </div>
                                            <div class="feature-text">
                                                <h5>Secure & Safe</h5>
                                                <p>Your data is protected with industry-standard encryption</p>
                                            </div>
                                        </div>

                                        <div class="feature-item">
                                            <div class="feature-icon">
                                                <i class="bi bi-lightning"></i>
                                            </div>
                                            <div class="feature-text">
                                                <h5>Fast & Reliable</h5>
                                                <p>Experience blazing fast performance and 99.9% uptime</p>
                                            </div>
                                        </div>

                                        <div class="feature-item">
                                            <div class="feature-icon">
                                                <i class="bi bi-headset"></i>
                                            </div>
                                            <div class="feature-text">
                                                <h5>24/7 Support</h5>
                                                <p>Our support team is always ready to help you</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="auth-stats mt-5">
                                        <div class="row text-center">
                                            <div class="col-4">
                                                <h3 class="text-warning">10K+</h3>
                                                <p class="text-muted">Users</p>
                                            </div>
                                            <div class="col-4">
                                                <h3 class="text-warning">99%</h3>
                                                <p class="text-muted">Satisfaction</p>
                                            </div>
                                            <div class="col-4">
                                                <h3 class="text-warning">24/7</h3>
                                                <p class="text-muted">Support</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Side - Auth Forms -->
                        <div class="col-md-6">
                            <div class="auth-form-section">
                                <!-- Tabs Navigation -->
                                <ul class="nav nav-pills nav-fill mb-4" id="authTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="login-tab" data-bs-toggle="tab"
                                                data-bs-target="#login" type="button" role="tab">
                                            <i class="bi bi-box-arrow-in-right me-2"></i>
                                            Sign In
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="register-tab" data-bs-toggle="tab"
                                                data-bs-target="#register" type="button" role="tab">
                                            <i class="bi bi-person-plus me-2"></i>
                                            Sign Up
                                        </button>
                                    </li>
                                </ul>

                                <!-- Tab Content -->
                                <div class="tab-content" id="authTabContent">
                                    <!-- Login Form -->
                                    
                                        <partial name="_Login" />
                                    

                                    <!-- Register Form -->
                                        <partial name="_Register" />
                                    
                                </div>

                                <!-- Forgot Password Modal Trigger -->
                                <div class="text-center mt-4">
                                    <a href="#" class="text-decoration-none" data-bs-toggle="modal"
                                       data-bs-target="#forgotPasswordModal">
                                        <i class="bi bi-question-circle me-1"></i>
                                        Need help? Contact Support
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Forgot Password Modal -->
<partial name="_ResetPassword" />

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // Forgot password form
            document.getElementById('forgotPasswordForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('resetEmail').value.trim();

                if (!email) {
                    showToast('Error', 'Please enter your email address', 'danger');
                    return;
                }

                // Simulate API call
                setTimeout(() => {
                    showToast('Success', 'Password reset instructions sent to your email', 'success');
                    bootstrap.Modal.getInstance(document.getElementById('forgotPasswordModal')).hide();
                }, 1500);
            });

            // Switch to login tab
            window.switchToLogin = function() {
                const loginTab = new bootstrap.Tab(document.getElementById('login-tab'));
                loginTab.show();
            };

            // Toast notification function
            function showToast(title, message, type) {
                // Create toast container if it doesn't exist
                let toastContainer = document.querySelector('.toast-container');
                if (!toastContainer) {
                    toastContainer = document.createElement('div');
                    toastContainer.className = 'toast-container position-fixed top-0 end-0 p-3';
                    document.body.appendChild(toastContainer);
                }

                // Create toast element
                const toastId = 'toast-' + Date.now();
                const toastHtml = `
                    <div id="${toastId}" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="toast-header bg-${type} text-white">
                            <i class="bi bi-${type === 'danger' ? 'exclamation-triangle' : type === 'success' ? 'check-circle' : 'info-circle'} me-2"></i>
                            <strong class="me-auto">${title}</strong>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
                        </div>
                        <div class="toast-body">
                            ${message}
                        </div>
                    </div>
                `;

                toastContainer.insertAdjacentHTML('beforeend', toastHtml);

                // Show the toast
                const toastElement = document.getElementById(toastId);
                const toast = new bootstrap.Toast(toastElement, { delay: 3000 });
                toast.show();

                // Remove toast after it's hidden
                toastElement.addEventListener('hidden.bs.toast', function() {
                    this.remove();
                });
            }
        });
    </script>
}